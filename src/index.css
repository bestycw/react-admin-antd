@tailwind base;
@tailwind components;
@tailwind utilities;

/* 亮色模式变量 */
:root {
  --background-color: #ffffff;
  --text-color: #1f2937;
}

/* 暗色模式变量 */
:root[class~="dark"] {
  --background-color: #1f2937;
  --text-color: #f3f4f6;
}

body {
  background-color: var(--background-color);
  color: var(--text-color);
  transition: background-color 0.3s ease-in-out;
}

@layer utilities {
  /* 添加光标闪烁动画 */
  @keyframes cursor-blink {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
  }

  .animate-cursor-blink {
    animation: cursor-blink 1s step-end infinite;
  }

  /* 添加渐变动画 */
  @keyframes gradient-x {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-gradient-x {
    animation: gradient-x 3s ease infinite;
    background-size: 200% 200%;
  }
}

@layer components {
  .modern-glass {
    @apply backdrop-blur-md bg-white/10 border border-white/10 shadow-lg;
  }

  .login-input {
    @apply bg-slate-800/50 border-0 text-slate-200 transition-colors duration-200;
  }

  .login-input:hover,
  .login-input:focus {
    @apply bg-slate-700/50 !border-blue-500/50;
  }

  /* 重写 antd 的默认聚焦样式 */
  .login-input.ant-input-affix-wrapper-focused {
    @apply !shadow-none !border-blue-500/50 bg-slate-700/50;
  }

  .login-input input {
    @apply text-sm bg-transparent text-slate-200 !important;
  }

  /* 调整所有输入框的 placeholder 样式 */
  .login-input input::placeholder,
  .ant-input::placeholder {
    @apply text-slate-300 opacity-70 text-xs;
  }

  /* 密码框的特殊处理 */
  .login-input.ant-input-password .ant-input {
    @apply bg-transparent text-slate-200 !important;
  }

  .login-input.ant-input-password input::placeholder {
    @apply text-xs;
  }

  /* 密码框图标颜色 */
  .login-input .anticon {
    @apply text-slate-300;
  }

  /* 密码可见性标样式 */
  .login-input.ant-input-password .ant-input-password-icon {
    @apply text-slate-300 hover:text-blue-400 transition-colors duration-200;
  }

  /* 密码框聚焦时图标样式 */
  .login-input.ant-input-password.ant-input-affix-wrapper-focused .ant-input-password-icon {
    @apply text-blue-400;
  }

  .artistic-text {
    @apply text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-indigo-300 to-purple-400 animate-gradient-x;
  }

  .typewriter-text {
    @apply artistic-text relative;
  }

  .typewriter-text::after {
    content: '|';
    @apply animate-cursor-blink ml-0.5;
  }

  /* 验证码输入框样式 */
  .captcha-input {
    @apply flex-1;
  }

  /* 验证码容器样式 */
  .captcha-container {
    @apply flex items-center space-x-2;
  }

  /* 输入框基础样式 */
  .login-input {
    @apply bg-slate-800/50 border-0 text-slate-200 transition-colors duration-200;
  }

  /* 输入框文本样式 */
  .login-input input {
    @apply text-sm bg-transparent text-slate-200 !important;
  }

  /* 密码框文本样式 */
  .login-input.ant-input-password .ant-input {
    @apply bg-transparent text-slate-200 !important;
  }

  /* 错误状态下的输入框样式 */
  .login-input.ant-input-status-error {
    @apply bg-slate-800/50 border-red-400/50 !important;
  }

  .login-input.ant-input-affix-wrapper-status-error {
    @apply bg-slate-800/50 border-red-400/50 !important;
  }

  /* 错误提示文字样式 */
  .ant-form-item-explain-error {
    @apply text-red-400/90 text-xs mt-1 !important;
  }

  /* 输入框验证失败时的动画效果 */
  .ant-form-item-has-error .login-input {
    animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
  }

  /* 抖动动画 */
  @keyframes shake {
    10%, 90% {
      transform: translate3d(-1px, 0, 0);
    }
    20%, 80% {
      transform: translate3d(2px, 0, 0);
    }
    30%, 50%, 70% {
      transform: translate3d(-2px, 0, 0);
    }
    40%, 60% {
      transform: translate3d(2px, 0, 0);
    }
  }
}
